var x={JSACTION:"jsaction"},X={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"},i={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},W=[i.MOUSEENTER,i.MOUSELEAVE,"pointerenter","pointerleave"],Ie=t=>q.indexOf(t)>=0,q=[i.CLICK,i.DBLCLICK,i.FOCUS,i.FOCUSIN,i.BLUR,i.ERROR,i.FOCUSOUT,i.KEYDOWN,i.KEYUP,i.KEYPRESS,i.LOAD,i.MOUSEOVER,i.MOUSEOUT,i.SUBMIT,i.TOGGLE,i.TOUCHSTART,i.TOUCHEND,i.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],j=t=>J.indexOf(t)>=0,J=[i.FOCUS,i.BLUR,i.ERROR,i.LOAD,i.TOGGLE],N={JSACTION:"__jsaction",OWNER:"__owner"},L={};function Ue(t,e,n){let r=y(t)||{};r[e]=n,A(t,r)}function Me(t,e){let n=y(t);n&&(n[e]=void 0)}function y(t){return t[N.JSACTION]}function A(t,e){t[N.JSACTION]=e}function $(t){return L[t]}function z(t,e){L[t]=e}function u(t){return t.eventType}function P(t,e){t.eventType=e}function d(t){return t.event}function _(t,e){t.event=e}function D(t){return t.targetElement}function K(t,e){t.targetElement=e}function k(t){return t.eic}function Q(t,e){t.eic=e}function Z(t){return t.timeStamp}function ee(t,e){t.timeStamp=e}function O(t){return t.eia}function b(t,e,n){t.eia=[e,n]}function R(t){t.eia=void 0}function f(t){return t[1]}function te(t){return t.eirp}function w(t,e){t.eirp=e}function B(t){return t.eir}function V(t,e){t.eir=e}function F(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function H(t,e,n,r,s,o,a,E){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:s,eia:o,eirp:a,eiack:E}}var v=class t{constructor(e){this.eventInfo=e}getEventType(){return u(this.eventInfo)}setEventType(e){P(this.eventInfo,e)}getEvent(){return d(this.eventInfo)}setEvent(e){_(this.eventInfo,e)}getTargetElement(){return D(this.eventInfo)}setTargetElement(e){K(this.eventInfo,e)}getContainer(){return k(this.eventInfo)}setContainer(e){Q(this.eventInfo,e)}getTimestamp(){return Z(this.eventInfo)}setTimestamp(e){ee(this.eventInfo,e)}getAction(){let e=O(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){R(this.eventInfo);return}b(this.eventInfo,e.name,e.element)}getIsReplay(){return te(this.eventInfo)}setIsReplay(e){w(this.eventInfo,e)}getResolved(){return B(this.eventInfo)}setResolved(e){V(this.eventInfo,e)}clone(){return new t(F(this.eventInfo))}},ne=3,re=13,ie=32,c={MAC_ENTER:ne,ENTER:re,SPACE:ie};function se(t){return t===i.MOUSEENTER?i.MOUSEOVER:t===i.MOUSELEAVE?i.MOUSEOUT:t===i.POINTERENTER?i.POINTEROVER:t===i.POINTERLEAVE?i.POINTEROUT:t}function oe(t,e,n){let r=!1;return j(e)&&(r=!0),t.addEventListener(e,n,r),{eventType:e,handler:n,capture:r}}function ae(t,e){t.removeEventListener?t.removeEventListener(e.eventType,e.handler,e.capture):t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function ce(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var I=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function Ee(t){return t.which===2||t.which==null&&t.button===4}function ue(t){return I&&t.metaKey||!I&&t.ctrlKey||Ee(t)||t.shiftKey}var me=typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&/WebKit/.test(navigator.userAgent),Le=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)),_e=typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&/Gecko/.test(navigator.product);function pe(t,e,n){let r=t.relatedTarget;return(t.type===i.MOUSEOVER&&e===i.MOUSEENTER||t.type===i.MOUSEOUT&&e===i.MOUSELEAVE||t.type===i.POINTEROVER&&e===i.POINTERENTER||t.type===i.POINTEROUT&&e===i.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function le(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let s=r,o=t[s];typeof o!="function"&&(n[s]=o)}return t.type===i.MOUSEOVER?n.type=i.MOUSEENTER:t.type===i.MOUSEOUT?n.type=i.MOUSELEAVE:t.type===i.POINTEROVER?n.type=i.POINTERENTER:n.type=i.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n}var De={Enter:c.ENTER," ":c.SPACE},Ke={A:c.ENTER,BUTTON:0,CHECKBOX:c.SPACE,COMBOBOX:c.ENTER,FILE:0,GRIDCELL:c.ENTER,LINK:c.ENTER,LISTBOX:c.ENTER,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:c.SPACE,RADIOGROUP:c.SPACE,RESET:0,SUBMIT:0,SWITCH:c.SPACE,TAB:0,TREE:c.ENTER,TREEITEM:c.ENTER};var he={},Te=/\s*;\s*/,fe=i.CLICK,g=class{constructor({syntheticMouseEventSupport:e=!1}={}){this.a11yClickSupport=!1,this.updateEventInfoForA11yClick=void 0,this.preventDefaultForA11yClick=void 0,this.populateClickOnlyAction=void 0,this.syntheticMouseEventSupport=e}resolveEventType(e){u(e)===i.CLICK&&ue(d(e))?P(e,i.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){B(e)||(this.populateAction(e,D(e)),V(e,!0))}resolveParentAction(e){let n=O(e),r=n&&f(n);R(e);let s=r&&this.getParentNode(r);s&&this.populateAction(e,s)}populateAction(e,n){let r=n;for(;r&&r!==k(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!O(e));)r=this.getParentNode(r);let s=O(e);if(s&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(u(e)===i.MOUSEENTER||u(e)===i.MOUSELEAVE||u(e)===i.POINTERENTER||u(e)===i.POINTERLEAVE)))if(pe(d(e),u(e),f(s))){let o=le(d(e),f(s));_(e,o),K(e,f(s))}else R(e)}getParentNode(e){let n=e[N.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),s=r[u(n)];s!==void 0&&b(n,s,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=y(e);if(!n){let r=e.getAttribute(x.JSACTION);if(!r)n=he,A(e,n);else{if(n=$(r),!n){n={};let s=r.split(Te);for(let o=0;o<s.length;o++){let a=s[o];if(!a)continue;let E=a.indexOf(X.EVENT_ACTION_SEPARATOR),p=E!==-1,h=p?a.substr(0,E).trim():fe,T=p?a.substr(E+1).trim():a;n[h]=T}z(r,n)}A(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},G=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(G||{}),S=class{constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.eventReplayScheduled=!1,this.replayEventInfoWrappers=[],this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new v(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&de(r.element,n)&&ce(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function de(t,e){return t.tagName==="A"&&(e.getEventType()===i.CLICK||e.getEventType()===i.CLICKMOD)}var Y=Symbol.for("propagationStopped"),Oe={REPLAY:101};var Ae="`preventDefault` called during event replay.";var Re="`composedPath` called during event replay.",U=class{constructor(e){this.dispatchDelegate=e,this.actionResolver=new g,this.dispatcher=new S(n=>{this.dispatchToDelegate(n)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&Se(e),ve(e);e.getAction();){if(Ce(e),this.dispatchDelegate(e.getEvent(),e.getAction().name),ge(e))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function ve(t){let e=t.getEvent(),n=()=>{e[Y]=!0};l(e,"stopPropagation",n),l(e,"stopImmediatePropagation",n)}function ge(t){return!!t.getEvent()[Y]}function Se(t){let e=t.getEvent(),n=t.getTargetElement();l(e,"target",n),l(e,"eventPhase",Oe.REPLAY),l(e,"preventDefault",()=>{throw new Error(Ae+"")}),l(e,"composedPath",()=>{throw new Error(Re+"")})}function Ce(t){let e=t.getEvent(),n=t.getAction()?.element;n&&l(e,"currentTarget",n,{configurable:!0})}function l(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function ke(t,e){t.ecrd(n=>{e.dispatch(n)},G.I_AM_THE_JSACTION_FRAMEWORK)}var Ne=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),M=class{constructor(e){this.element=e,this.handlerInfos=[]}addEventListener(e,n){Ne&&(this.element.style.cursor="pointer"),this.handlerInfos.push(oe(this.element,e,n(this.element)))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)ae(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},ye=!1,Pe=!1,be=(()=>{class t{static{this.A11Y_CLICK_SUPPORT=ye}static{this.MOUSE_SPECIAL_SUPPORT=Pe}constructor(n,r){this.useActionResolver=r,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[],this.containerManager=n}handleEvent(n,r,s){let o=H(n,r,r.target,s,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){w(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&W.indexOf(n)>=0)return;let s=(a,E,p)=>{this.handleEvent(a,E,p)};this.eventHandlers[n]=s;let o=se(r||n);if(o!==n){let a=this.browserEventTypeToExtraEventTypes[o]||[];a.push(n),this.browserEventTypeToExtraEventTypes[o]=a}this.containerManager.addEventListener(o,a=>E=>{s(n,E,a)})}replayEarlyEvents(n=window){let r=n._ejsa;if(!r)return;let s=r.q;for(let a=0;a<s.length;a++){let E=s[a],p=this.getEventTypesForBrowserEventType(E.eventType);for(let h=0;h<p.length;h++){let T=F(E);P(T,p[h]),this.handleEventInfo(T)}}let o=r.h;m(r.c,r.et,o),m(r.c,r.etc,o,!0),delete n._ejsa}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let s=0;s<this.queuedEventInfos.length;s++)this.handleEventInfo(this.queuedEventInfos[s]);this.queuedEventInfos=null}}addA11yClickSupport(){}exportAddA11yClickSupport(){}}return t})();function m(t,e,n,r){for(let s=0;s<e.length;s++)t.removeEventListener(e[s],n,r)}var C=class{constructor(e=window,n=window.document.documentElement){this.replaySink=e,this.container=n,e._ejsa={c:n,q:[],et:[],etc:[],h:r=>{let s=H(r.type,r,r.target,n,Date.now());e._ejsa.q.push(s)}}}addEvents(e,n){let r=this.replaySink._ejsa;for(let s=0;s<e.length;s++){let o=e[s];(n?r.etc:r.et).push(o),this.container.addEventListener(o,r.h,n)}}};function we(t,e,n,r,s,o=window){o[t]||(o[t]={}),o[t][n]={};let a=new C(o[t][n],e);r&&a.addEvents(r),s&&a.addEvents(s,!0)}export{x as Attribute,be as EventContract,M as EventContractContainer,U as EventDispatcher,v as EventInfoWrapper,Oe as EventPhase,we as bootstrapEarlyEventContract,j as isCaptureEvent,Ie as isSupportedEvent,ke as registerDispatcher,Ue as registerEventType,Me as unregisterEventType};/*! Bundled license information:

@angular/core/fesm2022/primitives/event-dispatch.mjs:
  (**
   * @license Angular v18.0.6
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)
*/